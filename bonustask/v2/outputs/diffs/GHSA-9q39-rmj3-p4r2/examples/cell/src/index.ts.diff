--- examples\cell\src\index.ts (old)
+++ examples\cell\src\index.ts (new)
@@ -7,38 +7,23 @@
   'example/'
 );
 
-// Import style through JS file to deduplicate them.
-import './style';
+import '@jupyterlab/application/style/index.css';
+import '@jupyterlab/cells/style/index.css';
+import '@jupyterlab/theme-light-extension/style/theme.css';
+import '@jupyterlab/completer/style/index.css';
+import '../index.css';
 
-import {
-  Toolbar as AppToolbar,
-  SessionContext,
-  SessionContextDialogs
-} from '@jupyterlab/apputils';
-import {
-  refreshIcon,
-  stopIcon,
-  Toolbar,
-  ToolbarButton
-} from '@jupyterlab/ui-components';
+import { SessionContext, Toolbar } from '@jupyterlab/apputils';
 
-import { Cell, CodeCell, CodeCellModel } from '@jupyterlab/cells';
+import { CodeCell, CodeCellModel } from '@jupyterlab/cells';
 
-import {
-  CodeMirrorEditorFactory,
-  CodeMirrorMimeTypeService,
-  EditorExtensionRegistry,
-  EditorLanguageRegistry,
-  EditorThemeRegistry,
-  ybinding
-} from '@jupyterlab/codemirror';
+import { CodeMirrorMimeTypeService } from '@jupyterlab/codemirror';
 
 import {
   Completer,
   CompleterModel,
   CompletionHandler,
-  KernelCompleterProvider,
-  ProviderReconciliator
+  KernelConnector
 } from '@jupyterlab/completer';
 
 import {
@@ -51,8 +36,6 @@
   KernelSpecManager,
   SessionManager
 } from '@jupyterlab/services';
-
-import { IYText } from '@jupyter/ydoc';
 
 import { CommandRegistry } from '@lumino/commands';
 
@@ -67,46 +50,7 @@
     specsManager,
     name: 'Example'
   });
-  const editorExtensions = () => {
-    const themes = new EditorThemeRegistry();
-    EditorThemeRegistry.getDefaultThemes().forEach(theme => {
-      themes.addTheme(theme);
-    });
-    const registry = new EditorExtensionRegistry();
-
-    EditorExtensionRegistry.getDefaultExtensions({ themes }).forEach(
-      extensionFactory => {
-        registry.addExtension(extensionFactory);
-      }
-    );
-    registry.addExtension({
-      name: 'shared-model-binding',
-      factory: options => {
-        const sharedModel = options.model.sharedModel as IYText;
-        return EditorExtensionRegistry.createImmutableExtension(
-          ybinding({
-            ytext: sharedModel.ysource,
-            undoManager: sharedModel.undoManager ?? undefined
-          })
-        );
-      }
-    });
-    return registry;
-  };
-  const languages = new EditorLanguageRegistry();
-  EditorLanguageRegistry.getDefaultLanguages()
-    .filter(language =>
-      ['ipython', 'julia', 'python'].includes(language.name.toLowerCase())
-    )
-    .forEach(language => {
-      languages.addLanguage(language);
-    });
-
-  const factoryService = new CodeMirrorEditorFactory({
-    extensions: editorExtensions(),
-    languages
-  });
-  const mimeService = new CodeMirrorMimeTypeService(languages);
+  const mimeService = new CodeMirrorMimeTypeService();
 
   // Initialize the command registry with the bindings.
   const commands = new CommandRegistry();
@@ -125,22 +69,15 @@
   const rendermime = new RenderMimeRegistry({ initialFactories });
 
   const cellWidget = new CodeCell({
-    contentFactory: new Cell.ContentFactory({
-      editorFactory: factoryService.newInlineEditor.bind(factoryService)
-    }),
     rendermime,
-    model: new CodeCellModel()
+    model: new CodeCellModel({})
   }).initializeState();
 
   // Handle the mimeType for the current kernel asynchronously.
   sessionContext.kernelChanged.connect(() => {
     void sessionContext.session?.kernel?.info.then(info => {
       const lang = info.language_info;
-      const mimeTypes = mimeService.getMimeTypeByLanguage(lang);
-      const mimeType =
-        Array.isArray(mimeTypes) && mimeTypes.length !== 0
-          ? mimeTypes[0]
-          : mimeTypes;
+      const mimeType = mimeService.getMimeTypeByLanguage(lang);
       cellWidget.model.mimeType = mimeType;
     });
   });
@@ -152,22 +89,13 @@
   const editor = cellWidget.editor;
   const model = new CompleterModel();
   const completer = new Completer({ editor, model });
-  const timeout = 1000;
-  const provider = new KernelCompleterProvider();
-  const reconciliator = new ProviderReconciliator({
-    context: { widget: cellWidget, editor, session: sessionContext.session },
-    providers: [provider],
-    timeout: timeout
-  });
-  const handler = new CompletionHandler({ completer, reconciliator });
+  const connector = new KernelConnector({ session: sessionContext.session });
+  const handler = new CompletionHandler({ completer, connector });
 
   //sessionContext.session?.kernel.
   void sessionContext.ready.then(() => {
-    const provider = new KernelCompleterProvider();
-    handler.reconciliator = new ProviderReconciliator({
-      context: { widget: cellWidget, editor, session: sessionContext.session },
-      providers: [provider],
-      timeout: timeout
+    handler.connector = new KernelConnector({
+      session: sessionContext.session
     });
   });
 
@@ -181,32 +109,10 @@
   // Create a toolbar for the cell.
   const toolbar = new Toolbar();
   toolbar.addItem('spacer', Toolbar.createSpacerItem());
-  toolbar.addItem(
-    'interrupt',
-    new ToolbarButton({
-      icon: stopIcon,
-      onClick: () => {
-        void sessionContext.session?.kernel?.interrupt();
-      },
-      tooltip: 'Interrupt the kernel'
-    })
-  );
-  const dialogs = new SessionContextDialogs();
-  toolbar.addItem(
-    'restart',
-    new ToolbarButton({
-      icon: refreshIcon,
-      onClick: () => {
-        void dialogs.restart(sessionContext);
-      },
-      tooltip: 'Restart the kernel'
-    })
-  );
-  toolbar.addItem(
-    'name',
-    AppToolbar.createKernelNameItem(sessionContext, dialogs)
-  );
-  toolbar.addItem('status', AppToolbar.createKernelStatusItem(sessionContext));
+  toolbar.addItem('interrupt', Toolbar.createInterruptButton(sessionContext));
+  toolbar.addItem('restart', Toolbar.createRestartButton(sessionContext));
+  toolbar.addItem('name', Toolbar.createKernelNameItem(sessionContext));
+  toolbar.addItem('status', Toolbar.createKernelStatusItem(sessionContext));
 
   // Lay out the widgets.
   const panel = new BoxPanel();