--- examples\example_check.py (old)
+++ examples\example_check.py (new)
@@ -1,34 +1,35 @@
-# Copyright (c) Jupyter Development Team.
-# Distributed under the terms of the Modified BSD License.
-
+# -*- coding: utf-8 -*-
 """
 This file is mean to be called with a path to an example directory as
 its argument.  We import the application entry point for the example
-and add instrument them with a Playwright test that makes sure
+and add instrument them with a puppeteer test that makes sure
 there are no console errors or uncaught errors prior to a sentinel
 string being printed.
 
 e.g. python example_check.py ./app
 """
-
 import importlib.util
+import logging
 import os
 import shutil
+import subprocess
 import sys
-from pathlib import Path
+from os import path as osp
+
+from jupyter_server.serverapp import ServerApp
+from tornado.ioloop import IOLoop
+from traitlets import Bool, Dict, Unicode
 
 from jupyterlab.browser_check import run_async_process, run_test
 from jupyterlab.labapp import get_app_dir
 
-here = Path(__file__).parent.resolve()
-TEST_FILE = here / "example.spec.ts"
-REF_SNAPSHOT = Path(TEST_FILE.with_suffix(".ts-snapshots").name) / "example-linux.png"
+here = osp.abspath(osp.dirname(__file__))
 
 
 def main():
     # Load the main file and grab the example class so we can subclass
-    example_dir = Path(sys.argv[-1])
-    mod_path = (example_dir / "main.py").resolve()
+    example_dir = sys.argv.pop()
+    mod_path = osp.abspath(osp.join(example_dir, "main.py"))
     spec = importlib.util.spec_from_file_location("example", mod_path)
     mod = importlib.util.module_from_spec(spec)
     spec.loader.exec_module(mod)
@@ -44,8 +45,8 @@
 
         serverapp_config = {
             "base_url": "/foo/",
-            "root_dir": str(example_dir.resolve()),
-            "preferred_dir": str(example_dir.resolve()),
+            "root_dir": osp.abspath(example_dir),
+            "preferred_dir": osp.abspath(example_dir),
         }
         ip = "127.0.0.1"
 
@@ -58,54 +59,23 @@
 
         mod._jupyter_server_extension_points = _jupyter_server_extension_points
 
-    App.__name__ = example_dir.name.capitalize() + "Test"
+    App.__name__ = osp.basename(example_dir).capitalize() + "Test"
     App.launch_instance()
 
 
 async def run_browser(url):
     """Run the browser test and return an exit code."""
     # Run the browser test and return an exit code.
-    target = Path(get_app_dir()) / "example_test"
-    if not (target / "node_modules").exists():
-        if not target.exists():
-            target.mkdir(parents=True, exist_ok=True)
-        await run_async_process(["npm", "init", "-y"], cwd=str(target))
-        await run_async_process(["npm", "install", "-D", "@playwright/test@^1"], cwd=str(target))
-        await run_async_process(["npx", "playwright", "install", "chromium"], cwd=str(target))
-    test_target = target / TEST_FILE.name
-
-    # Copy test file
+    target = osp.join(get_app_dir(), "example_test")
+    if not osp.exists(osp.join(target, "node_modules")):
+        if not osp.exists(target):
+            os.makedirs(osp.join(target))
+        await run_async_process(["npm", "init", "-y"], cwd=target)
+        await run_async_process(["npm", "install", "puppeteer@^19"], cwd=target)
     shutil.copy(
-        str(TEST_FILE),
-        str(test_target),
+        osp.join(here, "chrome-example-test.js"), osp.join(target, "chrome-example-test.js")
     )
-    # Copy reference snapshot
-    example_dir = Path(sys.argv[-1])
-    snapshot = example_dir / REF_SNAPSHOT
-    has_snapshot = False
-    if snapshot.exists():
-        has_snapshot = True
-        snapshot_target = target / REF_SNAPSHOT
-        snapshot_target.parent.mkdir(exist_ok=True)
-        shutil.copy(str(snapshot), str(snapshot_target))
-
-    results_target = target / "test-results"
-    dst = example_dir / results_target.name
-    # Force creation of the results folder as it may be listed in the filebrowser to avoid
-    # snapshots discrepancy
-    dst.mkdir(exist_ok=True)
-
-    current_env = os.environ.copy()
-    current_env["BASE_URL"] = url
-    current_env["TEST_SNAPSHOT"] = "1" if has_snapshot else "0"
-    try:
-        await run_async_process(["npx", "playwright", "test"], env=current_env, cwd=str(target))
-    finally:
-        # Copy back test-results folder to analyze snapshot error
-        if results_target.exists():
-            if dst.exists():
-                shutil.rmtree(dst)
-            shutil.copytree(str(results_target), str(dst))
+    await run_async_process(["node", "chrome-example-test.js", url], cwd=target)
 
 
 if __name__ == "__main__":