--- examples\filebrowser\src\index.ts (old)
+++ examples\filebrowser\src\index.ts (new)
@@ -7,8 +7,13 @@
   'example/'
 );
 
-// Import style through JS file to deduplicate them.
-import './style';
+import '@jupyterlab/application/style/index.css';
+import '@jupyterlab/codemirror/style/index.css';
+import '@jupyterlab/filebrowser/style/index.css';
+import '@jupyterlab/theme-light-extension/style/theme.css';
+import '../index.css';
+
+import { each } from '@lumino/algorithm';
 
 import { CommandRegistry } from '@lumino/commands';
 
@@ -16,12 +21,11 @@
 
 import { ServiceManager } from '@jupyterlab/services';
 
-import { Dialog, showDialog } from '@jupyterlab/apputils';
+import { Dialog, showDialog, ToolbarButton } from '@jupyterlab/apputils';
 
 import {
   CodeMirrorEditorFactory,
-  CodeMirrorMimeTypeService,
-  EditorLanguageRegistry
+  CodeMirrorMimeTypeService
 } from '@jupyterlab/codemirror';
 
 import { DocumentManager } from '@jupyterlab/docmanager';
@@ -38,7 +42,7 @@
   TranslationManager
 } from '@jupyterlab/translation';
 
-import { addIcon, ToolbarButton } from '@jupyterlab/ui-components';
+import { addIcon } from '@jupyterlab/ui-components';
 
 const LANG = 'en';
 
@@ -75,16 +79,6 @@
         const index = widgets.indexOf(w);
         widgets.splice(index, 1);
       });
-    },
-    get opened() {
-      return {
-        connect: () => {
-          return false;
-        },
-        disconnect: () => {
-          return false;
-        }
-      };
     }
   };
 
@@ -94,30 +88,9 @@
     manager,
     opener
   });
-  const languages = new EditorLanguageRegistry();
-  EditorLanguageRegistry.getDefaultLanguages()
-    .filter(language =>
-      ['ipython', 'julia', 'python'].includes(language.name.toLowerCase())
-    )
-    .forEach(language => {
-      languages.addLanguage(language);
-    });
-  // Language for Markdown cells
-  languages.addLanguage({
-    name: 'ipythongfm',
-    mime: 'text/x-ipythongfm',
-    load: async () => {
-      const m = await import('@codemirror/lang-markdown');
-      return m.markdown({
-        codeLanguages: (info: string) => languages.findBest(info) as any
-      });
-    }
-  });
-  const factoryService = new CodeMirrorEditorFactory({ languages });
-  const mimeTypeService = new CodeMirrorMimeTypeService(languages);
   const editorServices = {
-    factoryService,
-    mimeTypeService
+    factoryService: new CodeMirrorEditorFactory(),
+    mimeTypeService: new CodeMirrorMimeTypeService()
   };
   const wFactory = new FileEditorFactory({
     editorServices,
@@ -180,17 +153,17 @@
   // Add commands.
   commands.addCommand('file-open', {
     label: trans.__('Open'),
-    iconClass: 'fa fa-folder-open-o',
-    mnemonic: 0,
-    execute: () => {
-      for (const item of fbWidget.selectedItems()) {
+    icon: 'fa fa-folder-open-o',
+    mnemonic: 0,
+    execute: () => {
+      each(fbWidget.selectedItems(), item => {
         docManager.openOrReveal(item.path);
-      }
+      });
     }
   });
   commands.addCommand('file-rename', {
     label: trans.__('Rename'),
-    iconClass: 'fa fa-edit',
+    icon: 'fa fa-edit',
     mnemonic: 0,
     execute: () => {
       return fbWidget.rename();
@@ -204,14 +177,14 @@
   });
   commands.addCommand('file-cut', {
     label: trans.__('Cut'),
-    iconClass: 'fa fa-cut',
+    icon: 'fa fa-cut',
     execute: () => {
       fbWidget.cut();
     }
   });
   commands.addCommand('file-copy', {
     label: trans.__('Copy'),
-    iconClass: 'fa fa-copy',
+    icon: 'fa fa-copy',
     mnemonic: 0,
     execute: () => {
       fbWidget.copy();
@@ -219,7 +192,7 @@
   });
   commands.addCommand('file-delete', {
     label: trans.__('Delete'),
-    iconClass: 'fa fa-remove',
+    icon: 'fa fa-remove',
     mnemonic: 0,
     execute: () => {
       return fbWidget.delete();
@@ -227,7 +200,7 @@
   });
   commands.addCommand('file-duplicate', {
     label: trans.__('Duplicate'),
-    iconClass: 'fa fa-copy',
+    icon: 'fa fa-copy',
     mnemonic: 0,
     execute: () => {
       return fbWidget.duplicate();
@@ -235,7 +208,7 @@
   });
   commands.addCommand('file-paste', {
     label: trans.__('Paste'),
-    iconClass: 'fa fa-paste',
+    icon: 'fa fa-paste',
     mnemonic: 0,
     execute: () => {
       return fbWidget.paste();
@@ -243,14 +216,14 @@
   });
   commands.addCommand('file-download', {
     label: trans.__('Download'),
-    iconClass: 'fa fa-download',
+    icon: 'fa fa-download',
     execute: () => {
       return fbWidget.download();
     }
   });
   commands.addCommand('file-shutdown-kernel', {
     label: trans.__('Shut Down Kernel'),
-    iconClass: 'fa fa-stop-circle-o',
+    icon: 'fa fa-stop-circle-o',
     execute: () => {
       return fbWidget.shutdownKernels();
     }