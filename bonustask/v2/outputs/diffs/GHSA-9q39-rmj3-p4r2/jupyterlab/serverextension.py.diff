--- jupyterlab\serverextension.py (old)
+++ jupyterlab\serverextension.py (new)
@@ -1,5 +1,4 @@
-# Copyright (c) Jupyter Development Team.
-# Distributed under the terms of the Modified BSD License.
+import sys
 
 from jupyter_server.utils import url_path_join
 from tornado.web import RedirectHandler
@@ -11,6 +10,22 @@
     """Temporary server extension shim when using
     old notebook server.
     """
+    serverapp.log.warning("Loading JupyterLab as a classic notebook (v6) extension.")
+    from jupyter_server._version import __version__
+    try:
+        from packaging.version import parse, Version
+        if parse(__version__) >= Version('2.0.0'):
+            serverapp.log.critical(
+                f"You must use Jupyter Server v1 to load JupyterLab as notebook extension. You have v{__version__} installed.\nYou can fix this by executing:\n    pip install -U \"jupyter-server<2.0.0\""
+            )
+            if serverapp.default_url == "/lab":
+                sys.exit(1)
+            else:
+                # Don't load JupyterLab when launching notebook
+                return
+    except Exception: # noqa
+        pass
+
     extension = LabApp()
     extension.serverapp = serverapp
     extension.load_config_file()