--- jupyterlab\tests\test_jupyterlab.py (old)
+++ jupyterlab\tests\test_jupyterlab.py (new)
@@ -1,3 +1,4 @@
+# coding: utf-8
 """Test installation of JupyterLab extensions"""
 
 # Copyright (c) Jupyter Development Team.
@@ -77,7 +78,7 @@
         # Any TemporaryDirectory objects appended to this list will be cleaned
         # up at the end of the test run.
         self.tempdirs = []
-        self.devnull = open(os.devnull, "w")  # noqa
+        self.devnull = open(os.devnull, "w")
 
         @self.addCleanup
         def cleanup_tempdirs():
@@ -88,7 +89,7 @@
 
         self.data_dir = pjoin(self.test_dir, "data")
         self.config_dir = pjoin(self.test_dir, "config")
-        self.pkg_names = {}
+        self.pkg_names = dict()
 
         # Copy in the mock packages.
         for name in ["extension", "incompat", "package", "mimeextension"]:
@@ -260,7 +261,7 @@
         You should be able to install different versions of the same extension with different
         pinned names and uninstall them with those names.
         """
-        NAMES = ["test-1", "test-2"]  # noqa
+        NAMES = ["test-1", "test-2"]
         assert install_extension(self.pinned_packages[0], pin=NAMES[0])
         assert install_extension(self.pinned_packages[1], pin=NAMES[1])
 
@@ -293,9 +294,9 @@
         # The archive file names are printed to stdout when run `npm pack`
         packages = [
             subprocess.run(
-                ["npm", "pack", name],  # noqa S603 S607
+                ["npm", "pack", name],
                 stdout=subprocess.PIPE,
-                text=True,
+                universal_newlines=True,
                 check=True,
                 cwd=str(base_dir),
             ).stdout.strip()
@@ -679,25 +680,25 @@
             }
 
         def _mock_extract(self, source, tempdir, *args, **kwargs):
-            data = {
-                "name": source,
-                "version": "2.1.0",
-                "jupyterlab": {"extension": True},
-                "jupyterlab_extracted_files": ["index.js"],
-            }
+            data = dict(
+                name=source,
+                version="2.1.0",
+                jupyterlab=dict(extension=True),
+                jupyterlab_extracted_files=["index.js"],
+            )
             data.update(_gen_dep("^2000.0.0"))
-            info = {
-                "source": source,
-                "is_dir": False,
-                "data": data,
-                "name": source,
-                "version": data["version"],
-                "filename": "mockextension.tgz",
-                "path": pjoin(tempdir, "mockextension.tgz"),
-            }
+            info = dict(
+                source=source,
+                is_dir=False,
+                data=data,
+                name=source,
+                version=data["version"],
+                filename="mockextension.tgz",
+                path=pjoin(tempdir, "mockextension.tgz"),
+            )
             return info
 
-        class Success(Exception):  # noqa
+        class Success(Exception):
             pass
 
         def _mock_install(self, name, *args, **kwargs):
@@ -719,7 +720,7 @@
 
         def _mock_install(self, name, *args, **kwargs):
             installed.append(name[0] + name[1:].split("@")[0])
-            return {"name": name, "is_dir": False, "path": "foo/bar/" + name}
+            return dict(name=name, is_dir=False, path="foo/bar/" + name)
 
         def _mock_latest(self, name):
             return "10000.0.0"
@@ -735,14 +736,14 @@
         assert installed == [self.pkg_names["extension"]]
 
     def test_update_missing_extension(self):
-        assert update_extension("foo") is False
+        assert False == update_extension("foo")
 
     def test_update_multiple(self):
         installed = []
 
         def _mock_install(self, name, *args, **kwargs):
             installed.append(name[0] + name[1:].split("@")[0])
-            return {"name": name, "is_dir": False, "path": "foo/bar/" + name}
+            return dict(name=name, is_dir=False, path="foo/bar/" + name)
 
         def _mock_latest(self, name):
             return "10000.0.0"