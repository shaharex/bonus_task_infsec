--- testutils\src\index.ts (old)
+++ testutils\src\index.ts (new)
@@ -1,31 +1,36 @@
 // Copyright (c) Jupyter Development Team.
 // Distributed under the terms of the Modified BSD License.
 
-export { createSessionContext } from '@jupyterlab/apputils/lib/testutils';
+export { NBTestUtils } from './notebook-utils';
+
+export { defaultRenderMime } from './rendermime';
+
+export { FakeUserManager } from './user';
+
+export { JupyterServer } from './start_jupyter_server';
+
 export {
+  testEmission,
+  expectFailure,
+  signalToPromises,
+  signalToPromise,
+  isFulfilled,
+  framePromise,
+  sleep,
+  createSessionContext,
+  createSession,
   createFileContext,
   createFileContextWithKernel,
-  createSession,
-  DocumentWidgetOpenerMock
-} from '@jupyterlab/docregistry/lib/testutils';
-export {
   initNotebookContext,
-  NBTestUtils
-} from '@jupyterlab/notebook/lib/testutils';
-export { defaultRenderMime } from '@jupyterlab/rendermime/lib/testutils';
-export * as Mock from './mock';
-export { FakeUserManager } from '@jupyterlab/services/lib/testutils';
-export {
+  waitForDialog,
   acceptDialog,
   dangerDialog,
   dismissDialog,
-  expectFailure,
-  framePromise,
-  isFulfilled,
-  JupyterServer,
-  signalToPromise,
-  signalToPromises,
-  sleep,
-  testEmission,
-  waitForDialog
-} from '@jupyterlab/testing';
+  simulate
+} from './common';
+
+export { flakyIt } from './flakyIt';
+
+import * as Mock from './mock';
+
+export { Mock };