--- packages\inspector\src\handler.ts (old)
+++ packages\inspector\src\handler.ts (new)
@@ -66,7 +66,7 @@
       // the active cell
       this.onEditorChange();
       editor.model.selections.changed.connect(this._onChange, this);
-      editor.model.sharedModel.changed.connect(this._onChange, this);
+      editor.model.value.changed.connect(this._onChange, this);
     }
   }
 
@@ -124,7 +124,7 @@
     if (!editor) {
       return;
     }
-    const text = customText ? customText : editor.model.sharedModel.getSource();
+    const text = customText ? customText : editor.model.value.text;
     const position = editor.getCursorPosition();
     const offset = Text.jsIndexToCharIndex(editor.getOffsetAt(position), text);
     const update: IInspector.IInspectorUpdate = { content: null };