--- packages\apputils\src\inputdialog.ts (old)
+++ packages\apputils\src\inputdialog.ts (new)
@@ -4,6 +4,7 @@
 import { Message } from '@lumino/messaging';
 import { Widget } from '@lumino/widgets';
 import { Dialog, showDialog } from './dialog';
+import { Styling } from './styling';
 
 const INPUT_DIALOG_CLASS = 'jp-Input-Dialog';
 
@@ -16,7 +17,7 @@
   /**
    * Common constructor options for input dialogs
    */
-  export interface IOptions extends IBaseOptions {
+  export interface IOptions {
     /**
      * The top level text for the dialog. Defaults to an empty string.
      */
@@ -26,6 +27,11 @@
      * The host element for the dialog. Defaults to `document.body`.
      */
     host?: HTMLElement;
+
+    /**
+     * Label of the requested input
+     */
+    label?: string;
 
     /**
      * An optional renderer for dialog items. Defaults to a shared
@@ -47,11 +53,6 @@
      * The checkbox to display in the footer. Defaults no checkbox.
      */
     checkbox?: Partial<Dialog.ICheckbox> | null;
-
-    /**
-     * The index of the default button. Defaults to the last button.
-     */
-    defaultButton?: number;
   }
 
   /**
@@ -163,40 +164,6 @@
   }
 
   /**
-   * Constructor options for item selection input dialogs
-   */
-  export interface IMultipleItemsOptions extends IOptions {
-    /**
-     * List of choices
-     */
-    items: Array<string>;
-    /**
-     * Default choices
-     */
-    defaults?: string[];
-  }
-
-  /**
-   * Create and show a input dialog for a choice.
-   *
-   * @param options - The dialog setup options.
-   *
-   * @returns A promise that resolves with whether the dialog was accepted
-   */
-  export function getMultipleItems(
-    options: IMultipleItemsOptions
-  ): Promise<Dialog.IResult<string[]>> {
-    return showDialog({
-      ...options,
-      body: new InputMultipleItemsDialog(options),
-      buttons: [
-        Dialog.cancelButton({ label: options.cancelLabel }),
-        Dialog.okButton({ label: options.okLabel })
-      ]
-    });
-  }
-
-  /**
    * Constructor options for text input dialogs
    */
   export interface ITextOptions extends IOptions {
@@ -215,14 +182,6 @@
      * Default is to select the whole input text if present.
      */
     selectionRange?: number;
-    /**
-     * Pattern used by the browser to validate the input value.
-     */
-    pattern?: string;
-    /**
-     * Whether the input is required (has to be non-empty).
-     */
-    required?: boolean;
   }
 
   /**
@@ -269,26 +228,6 @@
 }
 
 /**
- * Constructor options for base input dialog body.
- */
-interface IBaseOptions {
-  /**
-   * Label of the requested input
-   */
-  label?: string;
-
-  /**
-   * Additional prefix string preceding the input (e.g. Â£).
-   */
-  prefix?: string;
-
-  /**
-   * Additional suffix string following the input (e.g. $).
-   */
-  suffix?: string;
-}
-
-/**
  * Base widget for input dialog body
  */
 class InputDialogBase<T> extends Widget implements Dialog.IBodyWidget<T> {
@@ -297,7 +236,7 @@
    *
    * @param label Input field label
    */
-  constructor(options: IBaseOptions) {
+  constructor(label?: string) {
     super();
     this.addClass(INPUT_DIALOG_CLASS);
 
@@ -305,38 +244,16 @@
     this._input.classList.add('jp-mod-styled');
     this._input.id = 'jp-dialog-input-id';
 
-    if (options.label !== undefined) {
+    if (label !== undefined) {
       const labelElement = document.createElement('label');
-      labelElement.textContent = options.label;
+      labelElement.textContent = label;
       labelElement.htmlFor = this._input.id;
 
       // Initialize the node
       this.node.appendChild(labelElement);
     }
 
-    const wrapper = document.createElement('div');
-    wrapper.className = 'jp-InputDialog-inputWrapper';
-
-    if (options.prefix) {
-      const prefix = document.createElement('span');
-      prefix.className = 'jp-InputDialog-inputPrefix';
-      prefix.textContent = options.prefix;
-      // Both US WDS (https://designsystem.digital.gov/components/input-prefix-suffix/)
-      // and UK DS (https://design-system.service.gov.uk/components/text-input/) recommend
-      // hiding prefixes and suffixes from screen readers.
-      prefix.ariaHidden = 'true';
-      wrapper.appendChild(prefix);
-    }
-    wrapper.appendChild(this._input);
-    if (options.suffix) {
-      const suffix = document.createElement('span');
-      suffix.className = 'jp-InputDialog-inputSuffix';
-      suffix.textContent = options.suffix;
-      suffix.ariaHidden = 'true';
-      wrapper.appendChild(suffix);
-    }
-
-    this.node.appendChild(wrapper);
+    this.node.appendChild(this._input);
   }
 
   /** Input HTML node */
@@ -353,7 +270,7 @@
    * @param options Constructor options
    */
   constructor(options: InputDialog.IBooleanOptions) {
-    super(options);
+    super(options.label);
     this.addClass(INPUT_BOOLEAN_DIALOG_CLASS);
 
     this._input.type = 'checkbox';
@@ -378,7 +295,7 @@
    * @param options Constructor options
    */
   constructor(options: InputDialog.INumberOptions) {
-    super(options);
+    super(options.label);
 
     this._input.type = 'number';
     this._input.value = options.value ? options.value.toString() : '0';
@@ -397,49 +314,22 @@
 }
 
 /**
- * Base widget body for input text/password/email dialog
- */
-class InputDialogTextBase extends InputDialogBase<string> {
-  /**
-   * InputDialogTextBase constructor
+ * Widget body for input text dialog
+ */
+class InputTextDialog extends InputDialogBase<string> {
+  /**
+   * InputTextDialog constructor
    *
    * @param options Constructor options
    */
-  constructor(options: Omit<InputDialog.ITextOptions, 'selectionRange'>) {
-    super(options);
+  constructor(options: InputDialog.ITextOptions) {
+    super(options.label);
+
+    this._input.type = 'text';
     this._input.value = options.text ? options.text : '';
     if (options.placeholder) {
       this._input.placeholder = options.placeholder;
     }
-    if (options.pattern) {
-      this._input.pattern = options.pattern;
-    }
-    if (options.required) {
-      this._input.required = options.required;
-    }
-  }
-
-  /**
-   * Get the text specified by the user
-   */
-  getValue(): string {
-    return this._input.value;
-  }
-}
-
-/**
- * Widget body for input text dialog
- */
-class InputTextDialog extends InputDialogTextBase {
-  /**
-   * InputTextDialog constructor
-   *
-   * @param options Constructor options
-   */
-  constructor(options: InputDialog.ITextOptions) {
-    super(options);
-    this._input.type = 'text';
-
     this._initialSelectionRange = Math.min(
       this._input.value.length,
       Math.max(0, options.selectionRange ?? this._input.value.length)
@@ -456,21 +346,33 @@
     }
   }
 
+  /**
+   * Get the text specified by the user
+   */
+  getValue(): string {
+    return this._input.value;
+  }
+
   private _initialSelectionRange: number;
 }
 
 /**
  * Widget body for input password dialog
  */
-class InputPasswordDialog extends InputDialogTextBase {
+class InputPasswordDialog extends InputDialogBase<string> {
   /**
    * InputPasswordDialog constructor
    *
    * @param options Constructor options
    */
   constructor(options: InputDialog.ITextOptions) {
-    super(options);
+    super(options.label);
+
     this._input.type = 'password';
+    this._input.value = options.text ? options.text : '';
+    if (options.placeholder) {
+      this._input.placeholder = options.placeholder;
+    }
   }
 
   /**
@@ -482,6 +384,13 @@
       this._input.select();
     }
   }
+
+  /**
+   * Get the text specified by the user
+   */
+  getValue(): string {
+    return this._input.value;
+  }
 }
 
 /**
@@ -494,7 +403,7 @@
    * @param options Constructor options
    */
   constructor(options: InputDialog.IItemOptions) {
-    super(options);
+    super(options.label);
 
     this._editable = options.editable || false;
 
@@ -532,7 +441,8 @@
       this.node.appendChild(data);
     } else {
       /* Use select directly */
-      this._input.parentElement!.replaceChild(this._list, this._input);
+      this._input.remove();
+      this.node.appendChild(Styling.wrapSelect(this._list));
     }
   }
 
@@ -550,59 +460,3 @@
   private _list: HTMLSelectElement;
   private _editable: boolean;
 }
-
-/**
- * Widget body for input list dialog
- */
-class InputMultipleItemsDialog extends InputDialogBase<string> {
-  /**
-   * InputMultipleItemsDialog constructor
-   *
-   * @param options Constructor options
-   */
-  constructor(options: InputDialog.IMultipleItemsOptions) {
-    super(options);
-
-    let defaults = options.defaults || [];
-
-    this._list = document.createElement('select');
-    this._list.setAttribute('multiple', '');
-
-    options.items.forEach(item => {
-      const option = document.createElement('option');
-      option.value = item;
-      option.textContent = item;
-      this._list.appendChild(option);
-    });
-
-    // use the select
-    this._input.remove();
-    this.node.appendChild(this._list);
-
-    // select the current ones
-    const htmlOptions = this._list.options;
-    for (let i: number = 0; i < htmlOptions.length; i++) {
-      const option = htmlOptions[i];
-      if (defaults.includes(option.value)) {
-        option.selected = true;
-      } else {
-        option.selected = false;
-      }
-    }
-  }
-
-  /**
-   * Get the user choices
-   */
-  getValue(): string[] {
-    let result = [];
-    for (let opt of this._list.options) {
-      if (opt.selected && !opt.classList.contains('hidden')) {
-        result.push(opt.value || opt.text);
-      }
-    }
-    return result;
-  }
-
-  private _list: HTMLSelectElement;
-}