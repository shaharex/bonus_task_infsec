--- packages\apputils\src\sanitizer.ts (old)
+++ packages\apputils\src\sanitizer.ts (new)
@@ -1,9 +1,10 @@
-/* eslint-disable camelcase */
 // Copyright (c) Jupyter Development Team.
 // Distributed under the terms of the Modified BSD License.
 
+// sanitize-html uses the url package, so we depend on a standalone version of
+// it which acts as a polyfill for browsers.
 import sanitize from 'sanitize-html';
-import { IRenderMime } from '@jupyterlab/rendermime-interfaces';
+import { ISanitizer } from './tokens';
 
 /**
  * Helper class that contains regular expressions for inline CSS style validation.
@@ -433,7 +434,7 @@
 /**
  * A class to sanitize HTML strings.
  */
-export class Sanitizer implements IRenderMime.ISanitizer {
+export class Sanitizer implements ISanitizer {
   constructor() {
     this._options = this._generateOptions();
   }
@@ -446,15 +447,8 @@
    *
    * @returns The sanitized string.
    */
-  sanitize(dirty: string, options?: IRenderMime.ISanitizerOptions): string {
+  sanitize(dirty: string, options?: ISanitizer.IOptions): string {
     return sanitize(dirty, { ...this._options, ...(options || {}) });
-  }
-
-  /**
-   * @returns Whether to replace URLs by HTML anchors.
-   */
-  getAutolink(): boolean {
-    return this._autolink;
   }
 
   /**
@@ -468,15 +462,6 @@
   }
 
   /**
-   * Set the URL replacement boolean.
-   *
-   * @param autolink URL replacement boolean.
-   */
-  setAutolink(autolink: boolean): void {
-    this._autolink = autolink;
-  }
-
-  /**
    * Set the whether to allow `name` and `id` attributes.
    */
   setAllowNamedProperties(allowNamedProperties: boolean): void {
@@ -484,7 +469,6 @@
     this._options = this._generateOptions();
   }
 
-  private _autolink: boolean = true;
   private _allowNamedProperties: boolean = false;
   private _options: sanitize.IOptions;
   private _generateOptions = (): sanitize.IOptions => ({
@@ -996,3 +980,11 @@
     allowedSchemesAppliedToAttributes: ['href', 'cite']
   });
 }
+
+/**
+ * The default instance of an `ISanitizer` meant for use by user code.
+ *
+ * @deprecated It will be removed in JupyterLab v4. You should request the `ISanitizer` in
+ * your plugin instead.
+ */
+export const defaultSanitizer: ISanitizer = new Sanitizer();