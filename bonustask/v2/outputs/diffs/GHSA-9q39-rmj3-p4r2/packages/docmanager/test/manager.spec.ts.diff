--- packages\docmanager\test\manager.spec.ts (old)
+++ packages\docmanager\test\manager.spec.ts (new)
@@ -8,10 +8,9 @@
   IDocumentWidget,
   TextModelFactory
 } from '@jupyterlab/docregistry';
-import { DocumentWidgetOpenerMock } from '@jupyterlab/docregistry/lib/testutils';
 import { ServiceManager } from '@jupyterlab/services';
-import { dismissDialog } from '@jupyterlab/testing';
-import { ServiceManagerMock } from '@jupyterlab/services/lib/testutils';
+import { dismissDialog } from '@jupyterlab/testutils';
+import * as Mock from '@jupyterlab/testutils/lib/mock';
 import { Widget } from '@lumino/widgets';
 import { DocumentManager } from '../src';
 
@@ -72,11 +71,10 @@
   });
 
   beforeAll(() => {
-    services = new ServiceManagerMock();
+    services = new Mock.ServiceManagerMock();
   });
 
   beforeEach(() => {
-    const opener = new DocumentWidgetOpenerMock();
     const registry = new DocumentRegistry({ textModelFactory });
     registry.addWidgetFactory(widgetFactory);
     registry.addWidgetFactory(widgetFactoryShared);
@@ -86,7 +84,11 @@
     manager = new DocumentManager({
       registry,
       manager: services,
-      opener
+      opener: {
+        open: (widget: Widget) => {
+          // no-op
+        }
+      }
     });
   });
 
@@ -121,7 +123,7 @@
 
     describe('#services', () => {
       it('should get the service manager for the manager', async () => {
-        await expect(manager.services.ready).resolves.not.toThrow();
+        await manager.services.ready;
       });
     });
 
@@ -395,8 +397,8 @@
         expect(called).toBe(2);
       });
 
-      it('should be a no-op if there are no open files on that path', async () => {
-        await expect(manager.closeFile('foo')).resolves.not.toThrow();
+      it('should be a no-op if there are no open files on that path', () => {
+        return manager.closeFile('foo');
       });
     });
 
@@ -424,7 +426,7 @@
       });
 
       it('should be a no-op if there are no open documents', async () => {
-        await expect(manager.closeAll()).resolves.not.toThrow();
+        await manager.closeAll();
       });
     });
   });