--- packages\services\test\kernelspec\kernelspec.spec.ts (old)
+++ packages\services\test\kernelspec\kernelspec.spec.ts (new)
@@ -1,7 +1,7 @@
 // Copyright (c) Jupyter Development Team.
 // Distributed under the terms of the Modified BSD License.
 
-import { JupyterServer } from '@jupyterlab/testing';
+import { expectFailure, JupyterServer } from '@jupyterlab/testutils';
 import { KernelSpecAPI } from '../../src';
 import { getRequestHandler, makeSettings, PYTHON_SPEC } from '../utils';
 
@@ -13,7 +13,7 @@
 
 beforeAll(async () => {
   await server.start();
-}, 30000);
+});
 
 afterAll(async () => {
   await server.shutdown();
@@ -45,7 +45,7 @@
         default: PYTHON_SPEC.name
       });
       const promise = KernelSpecAPI.getSpecs(serverSettings);
-      await expect(promise).rejects.toThrow(/No kernelspecs found/);
+      await expectFailure(promise, 'No kernelspecs found');
     });
 
     it('should omit an invalid kernelspec', async () => {
@@ -71,7 +71,7 @@
         kernelspecs: { R: R_SPEC }
       });
       const promise = KernelSpecAPI.getSpecs(serverSettings);
-      await expect(promise).rejects.toThrow(/No valid kernelspecs found/);
+      await expectFailure(promise, 'No valid kernelspecs found');
     });
 
     it('should handle an improper language', async () => {
@@ -82,7 +82,7 @@
         kernelspecs: { R: R_SPEC }
       });
       const promise = KernelSpecAPI.getSpecs(serverSettings);
-      await expect(promise).rejects.toThrow(/No valid kernelspecs found/);
+      await expectFailure(promise, 'No valid kernelspecs found');
     });
 
     it('should handle an improper argv', async () => {
@@ -93,7 +93,7 @@
         kernelspecs: { R: R_SPEC }
       });
       const promise = KernelSpecAPI.getSpecs(serverSettings);
-      await expect(promise).rejects.toThrow(/No valid kernelspecs found/);
+      await expectFailure(promise, 'No valid kernelspecs found');
     });
 
     it('should handle an improper display_name', async () => {
@@ -104,7 +104,7 @@
         kernelspecs: { R: R_SPEC }
       });
       const promise = KernelSpecAPI.getSpecs(serverSettings);
-      await expect(promise).rejects.toThrow(/No valid kernelspecs found/);
+      await expectFailure(promise, 'No valid kernelspecs found');
     });
 
     it('should handle missing resources', async () => {
@@ -115,18 +115,17 @@
         kernelspecs: { R: R_SPEC }
       });
       const promise = KernelSpecAPI.getSpecs(serverSettings);
-      await expect(promise).rejects.toThrow(/No valid kernelspecs found/);
+      await expectFailure(promise, 'No valid kernelspecs found');
     });
 
     it('should throw an error for an invalid response', async () => {
       const serverSettings = getRequestHandler(201, {});
       const promise = KernelSpecAPI.getSpecs(serverSettings);
-      await expect(promise).rejects.toThrow(/Invalid response: 201/);
+      await expectFailure(promise, 'Invalid response: 201 Created');
     });
 
     it('should handle metadata', async () => {
       const PYTHON_SPEC_W_MD = JSON.parse(JSON.stringify(PYTHON_SPEC));
-      // eslint-disable-next-line camelcase
       PYTHON_SPEC_W_MD.spec.metadata = { some_application: { key: 'value' } };
       const serverSettings = getRequestHandler(200, {
         default: 'python',