--- packages\debugger\test\session.spec.ts (old)
+++ packages\debugger\test\session.spec.ts (new)
@@ -3,9 +3,11 @@
 
 import { Session } from '@jupyterlab/services';
 
-import { createSession } from '@jupyterlab/docregistry/lib/testutils';
-
-import { JupyterServer, signalToPromises } from '@jupyterlab/testing';
+import {
+  createSession,
+  JupyterServer,
+  signalToPromises
+} from '@jupyterlab/testutils';
 
 import { find } from '@lumino/algorithm';
 
@@ -20,8 +22,9 @@
 const server = new JupyterServer();
 
 beforeAll(async () => {
+  jest.setTimeout(20000);
   await server.start();
-}, 30000);
+});
 
 afterAll(async () => {
   await server.shutdown();
@@ -29,11 +32,9 @@
 
 describe('Debugger.Session', () => {
   let connection: Session.ISessionConnection;
-  let config: IDebugger.IConfig;
 
   beforeEach(async () => {
     const path = UUID.uuid4();
-    config = new Debugger.Config();
     connection = await createSession({
       name: '',
       type: 'test',
@@ -49,8 +50,7 @@
   describe('#isDisposed', () => {
     it('should return whether the object is disposed', () => {
       const debugSession = new Debugger.Session({
-        connection,
-        config
+        connection
       });
       expect(debugSession.isDisposed).toEqual(false);
       debugSession.dispose();
@@ -61,8 +61,7 @@
   describe('#eventMessage', () => {
     it('should be emitted when sending debug messages', async () => {
       const debugSession = new Debugger.Session({
-        connection,
-        config
+        connection
       });
       let events: string[] = [];
       debugSession.eventMessage.connect((sender, event) => {
@@ -79,8 +78,7 @@
   describe('#sendRequest success', () => {
     it('should send debug messages to the kernel', async () => {
       const debugSession = new Debugger.Session({
-        connection,
-        config
+        connection
       });
       await debugSession.start();
       const code = 'i=0\ni+=1\ni+=1';
@@ -95,8 +93,7 @@
   describe('#sendRequest failure', () => {
     it('should handle replies with success false', async () => {
       const debugSession = new Debugger.Session({
-        connection,
-        config
+        connection
       });
       await debugSession.start();
       const reply = await debugSession.sendRequest('evaluate', {
@@ -130,13 +127,11 @@
   ];
 
   let connection: Session.ISessionConnection;
-  let config: IDebugger.IConfig;
   let debugSession: Debugger.Session;
   let threadId = 1;
 
   beforeEach(async () => {
     const path = UUID.uuid4();
-    config = new Debugger.Config();
     connection = await createSession({
       name: '',
       type: 'test',
@@ -144,8 +139,7 @@
     });
     await connection.changeKernel({ name: 'python3' });
     debugSession = new Debugger.Session({
-      connection,
-      config
+      connection
     });
     await debugSession.start();
 
@@ -158,12 +152,11 @@
             threadId = msg.body.threadId;
             break;
           }
-          case 'stopped': {
+          case 'stopped':
             const msg = event as DebugProtocol.StoppedEvent;
             threadId = msg.body.threadId!;
             stoppedFuture.resolve();
             break;
-          }
           default:
             break;
         }
@@ -185,14 +178,14 @@
 
     // wait for the first stopped event
     await stoppedFuture.promise;
-  }, 30000);
+  });
 
   afterEach(async () => {
     await debugSession.stop();
     debugSession.dispose();
     await connection.shutdown();
     connection.dispose();
-  }, 30000);
+  });
 
   describe('#debugInfo', () => {
     it('should return the state of the current debug session', async () => {