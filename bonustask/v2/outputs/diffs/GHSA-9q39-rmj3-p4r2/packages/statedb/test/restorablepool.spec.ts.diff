--- packages\statedb\test\restorablepool.spec.ts (old)
+++ packages\statedb\test\restorablepool.spec.ts (new)
@@ -2,7 +2,7 @@
 // Distributed under the terms of the Modified BSD License.
 
 import { RestorablePool } from '@jupyterlab/statedb';
-import { signalToPromise } from '@jupyterlab/testing';
+import { signalToPromise } from '@jupyterlab/testutils';
 import { IObservableDisposable } from '@lumino/disposable';
 import { ISignal, Signal } from '@lumino/signaling';
 
@@ -87,21 +87,13 @@
     });
 
     describe('#currentChanged', () => {
-      let instance: ObservableDisposable;
-
-      beforeEach(() => {
-        instance = new ObservableDisposable();
-      });
-
-      afterEach(() => {
-        instance.dispose();
-      });
-
       it('should emit when the current object has been updated', async () => {
+        const instance = new ObservableDisposable();
         const promise = signalToPromise(pool.currentChanged);
         void pool.add(instance);
         pool.current = instance;
-        await expect(promise).resolves.not.toThrow();
+        await promise;
+        instance.dispose();
       });
     });
 