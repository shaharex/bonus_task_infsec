--- packages\translation-extension\src\index.ts (old)
+++ packages\translation-extension\src\index.ts (new)
@@ -8,11 +8,10 @@
  */
 
 import {
-  ILabShell,
   JupyterFrontEnd,
   JupyterFrontEndPlugin
 } from '@jupyterlab/application';
-import { Dialog, ICommandPalette, showDialog } from '@jupyterlab/apputils';
+import { Dialog, showDialog } from '@jupyterlab/apputils';
 import { IMainMenu } from '@jupyterlab/mainmenu';
 import { ISettingRegistry } from '@jupyterlab/settingregistry';
 import {
@@ -22,22 +21,27 @@
 } from '@jupyterlab/translation';
 
 /**
+ * A namespace for command IDs.
+ */
+export namespace CommandIDs {
+  export const installAdditionalLanguages =
+    'jupyterlab-translation:install-additional-languages';
+}
+
+/**
  * Translation plugins
  */
 const PLUGIN_ID = '@jupyterlab/translation-extension:plugin';
 
 const translator: JupyterFrontEndPlugin<ITranslator> = {
   id: '@jupyterlab/translation:translator',
-  description: 'Provides the application translation object.',
   autoStart: true,
   requires: [JupyterFrontEnd.IPaths, ISettingRegistry],
-  optional: [ILabShell],
   provides: ITranslator,
   activate: async (
     app: JupyterFrontEnd,
     paths: JupyterFrontEnd.IPaths,
-    settings: ISettingRegistry,
-    labShell: ILabShell | null
+    settings: ISettingRegistry
   ) => {
     const setting = await settings.load(PLUGIN_ID);
     const currentLocale: string = setting.get('locale').composite as string;
@@ -53,14 +57,6 @@
       serverSettings
     );
     await translationManager.fetch(currentLocale);
-
-    // Set translator to UI
-    if (labShell) {
-      labShell.translator = translationManager;
-    }
-
-    Dialog.translator = translationManager;
-
     return translationManager;
   }
 };
@@ -70,16 +66,13 @@
  */
 const langMenu: JupyterFrontEndPlugin<void> = {
   id: PLUGIN_ID,
-  description: 'Adds translation commands and settings.',
-  requires: [ISettingRegistry, ITranslator],
-  optional: [IMainMenu, ICommandPalette],
+  requires: [IMainMenu, ISettingRegistry, ITranslator],
   autoStart: true,
   activate: (
     app: JupyterFrontEnd,
+    mainMenu: IMainMenu,
     settings: ISettingRegistry,
-    translator: ITranslator,
-    mainMenu: IMainMenu | null,
-    palette: ICommandPalette | null
+    translator: ITranslator
   ) => {
     const trans = translator.load('jupyterlab');
     const { commands } = app;
@@ -99,28 +92,17 @@
       .then(setting => {
         // Read the settings
         loadSetting(setting);
-
-        // Ensure currentLocale is not 'default' which is not a valid language code
-        if (currentLocale !== 'default') {
-          document.documentElement.lang = (currentLocale ?? '').replace(
-            '_',
-            '-'
-          );
-        } else {
-          document.documentElement.lang = 'en-US';
-        }
+        document.documentElement.lang = currentLocale;
 
         // Listen for your plugin setting changes using Signal
         setting.changed.connect(loadSetting);
 
         // Create a languages menu
-        const languagesMenu = mainMenu
-          ? mainMenu.settingsMenu.items.find(
-              item =>
-                item.type === 'submenu' &&
-                item.submenu?.id === 'jp-mainmenu-settings-language'
-            )?.submenu
-          : null;
+        const languagesMenu = mainMenu.settingsMenu.items.find(
+          item =>
+            item.type === 'submenu' &&
+            item.submenu?.id === 'jp-mainmenu-settings-language'
+        )?.submenu;
 
         let command: string;
 
@@ -132,8 +114,7 @@
               const value = data['data'][locale];
               const displayName = value.displayName;
               const nativeName = value.nativeName;
-              const toggled =
-                (currentLocale === 'default' ? 'en' : currentLocale) === locale;
+              const toggled = displayName === nativeName;
               const label = toggled
                 ? `${displayName}`
                 : `${displayName} - ${nativeName}`;
@@ -179,13 +160,6 @@
                   args: {}
                 });
               }
-
-              if (palette) {
-                palette.addItem({
-                  category: trans.__('Display Languages'),
-                  command
-                });
-              }
             }
           })
           .catch(reason => {