--- packages\filebrowser\src\crumbs.ts (old)
+++ packages\filebrowser\src\crumbs.ts (new)
@@ -15,9 +15,8 @@
   folderIcon as rootIcon
 } from '@jupyterlab/ui-components';
 import { ArrayExt } from '@lumino/algorithm';
-import { JSONExt } from '@lumino/coreutils';
 import { ElementExt } from '@lumino/domutils';
-import { Drag } from '@lumino/dragdrop';
+import { IDragEvent } from '@lumino/dragdrop';
 import { Message } from '@lumino/messaging';
 import { Widget } from '@lumino/widgets';
 import { FileBrowserModel } from './model';
@@ -64,14 +63,13 @@
   /**
    * Construct a new file browser crumb widget.
    *
-   * @param options Constructor options.
+   * @param model - The file browser view model.
    */
   constructor(options: BreadCrumbs.IOptions) {
     super();
     this.translator = options.translator || nullTranslator;
     this._trans = this.translator.load('jupyterlab');
     this._model = options.model;
-    this._fullPath = options.fullPath || false;
     this.addClass(BREADCRUMB_CLASS);
     this._crumbs = Private.createCrumbs();
     this._crumbSeps = Private.createCrumbSeparators();
@@ -100,31 +98,20 @@
         this._evtClick(event as MouseEvent);
         break;
       case 'lm-dragenter':
-        this._evtDragEnter(event as Drag.Event);
+        this._evtDragEnter(event as IDragEvent);
         break;
       case 'lm-dragleave':
-        this._evtDragLeave(event as Drag.Event);
+        this._evtDragLeave(event as IDragEvent);
         break;
       case 'lm-dragover':
-        this._evtDragOver(event as Drag.Event);
+        this._evtDragOver(event as IDragEvent);
         break;
       case 'lm-drop':
-        this._evtDrop(event as Drag.Event);
+        this._evtDrop(event as IDragEvent);
         break;
       default:
         return;
     }
-  }
-
-  /**
-   * Whether to show the full path in the breadcrumbs
-   */
-  get fullPath(): boolean {
-    return this._fullPath;
-  }
-
-  set fullPath(value: boolean) {
-    this._fullPath = value;
   }
 
   /**
@@ -161,16 +148,12 @@
     // Update the breadcrumb list.
     const contents = this._model.manager.services.contents;
     const localPath = contents.localPath(this._model.path);
-    const state = {
-      path: localPath,
-      hasPreferred: this._hasPreferred,
-      fullPath: this._fullPath
-    };
-    if (this._previousState && JSONExt.deepEqual(state, this._previousState)) {
-      return;
-    }
-    this._previousState = state;
-    Private.updateCrumbs(this._crumbs, this._crumbSeps, state);
+    Private.updateCrumbs(
+      this._crumbs,
+      this._crumbSeps,
+      localPath,
+      this._hasPreferred
+    );
   }
 
   /**
@@ -201,20 +184,12 @@
         node.classList.contains(BREADCRUMB_ITEM_CLASS) ||
         node.classList.contains(BREADCRUMB_ROOT_CLASS)
       ) {
-        let index = ArrayExt.findFirstIndex(
+        const index = ArrayExt.findFirstIndex(
           this._crumbs,
           value => value === node
         );
-        let destination = BREAD_CRUMB_PATHS[index];
-        if (
-          this._fullPath &&
-          index < 0 &&
-          !node.classList.contains(BREADCRUMB_ROOT_CLASS)
-        ) {
-          destination = node.title;
-        }
         this._model
-          .cd(destination)
+          .cd(BREAD_CRUMB_PATHS[index])
           .catch(error =>
             showErrorMessage(this._trans.__('Open Error'), error)
           );
@@ -231,7 +206,7 @@
   /**
    * Handle the `'lm-dragenter'` event for the widget.
    */
-  private _evtDragEnter(event: Drag.Event): void {
+  private _evtDragEnter(event: IDragEvent): void {
     if (event.mimeData.hasData(CONTENTS_MIME)) {
       const index = ArrayExt.findFirstIndex(this._crumbs, node =>
         ElementExt.hitTest(node, event.clientX, event.clientY)
@@ -249,7 +224,7 @@
   /**
    * Handle the `'lm-dragleave'` event for the widget.
    */
-  private _evtDragLeave(event: Drag.Event): void {
+  private _evtDragLeave(event: IDragEvent): void {
     event.preventDefault();
     event.stopPropagation();
     const dropTarget = DOMUtils.findElement(this.node, DROP_TARGET_CLASS);
@@ -261,7 +236,7 @@
   /**
    * Handle the `'lm-dragover'` event for the widget.
    */
-  private _evtDragOver(event: Drag.Event): void {
+  private _evtDragOver(event: IDragEvent): void {
     event.preventDefault();
     event.stopPropagation();
     event.dropAction = event.proposedAction;
@@ -280,7 +255,7 @@
   /**
    * Handle the `'lm-drop'` event for the widget.
    */
-  private _evtDrop(event: Drag.Event): void {
+  private _evtDrop(event: IDragEvent): void {
     event.preventDefault();
     event.stopPropagation();
     if (event.proposedAction === 'none') {
@@ -334,8 +309,6 @@
   private _hasPreferred: boolean;
   private _crumbs: ReadonlyArray<HTMLElement>;
   private _crumbSeps: ReadonlyArray<HTMLElement>;
-  private _fullPath: boolean;
-  private _previousState: Private.ICrumbsState | null = null;
 }
 
 /**
@@ -355,11 +328,6 @@
      * The application language translator.
      */
     translator?: ITranslator;
-
-    /**
-     * Show the full file browser path in breadcrumbs
-     */
-    fullPath?: boolean;
   }
 }
 
@@ -379,72 +347,49 @@
   }
 
   /**
-   * Breadcrumbs state.
-   */
-  export interface ICrumbsState {
-    [key: string]: string | boolean;
-    path: string;
-    hasPreferred: boolean;
-    fullPath: boolean;
-  }
-
-  /**
    * Populate the breadcrumb node.
    */
   export function updateCrumbs(
     breadcrumbs: ReadonlyArray<HTMLElement>,
     separators: ReadonlyArray<HTMLElement>,
-    state: ICrumbsState
+    path: string,
+    hasPreferred: boolean
   ): void {
     const node = breadcrumbs[0].parentNode as HTMLElement;
 
-    // Remove all but the home or preferred node.
+    // Remove all but the root or preferred node.
     const firstChild = node.firstChild as HTMLElement;
     while (firstChild && firstChild.nextSibling) {
       node.removeChild(firstChild.nextSibling);
     }
 
-    if (state.hasPreferred) {
+    if (hasPreferred) {
       node.appendChild(breadcrumbs[Crumb.Home]);
       node.appendChild(separators[0]);
     } else {
       node.appendChild(separators[0]);
     }
 
-    const parts = state.path.split('/');
-    if (!state.fullPath && parts.length > 2) {
+    const parts = path.split('/');
+    if (parts.length > 2) {
       node.appendChild(breadcrumbs[Crumb.Ellipsis]);
       const grandParent = parts.slice(0, parts.length - 2).join('/');
       breadcrumbs[Crumb.Ellipsis].title = grandParent;
       node.appendChild(separators[1]);
     }
 
-    if (state.path) {
-      if (!state.fullPath) {
-        if (parts.length >= 2) {
-          breadcrumbs[Crumb.Parent].textContent = parts[parts.length - 2];
-          node.appendChild(breadcrumbs[Crumb.Parent]);
-          const parent = parts.slice(0, parts.length - 1).join('/');
-          breadcrumbs[Crumb.Parent].title = parent;
-          node.appendChild(separators[2]);
-        }
-        breadcrumbs[Crumb.Current].textContent = parts[parts.length - 1];
-        node.appendChild(breadcrumbs[Crumb.Current]);
-        breadcrumbs[Crumb.Current].title = state.path;
-        node.appendChild(separators[3]);
-      } else {
-        for (let i = 0; i < parts.length; i++) {
-          const elem = document.createElement('span');
-          elem.className = BREADCRUMB_ITEM_CLASS;
-          elem.textContent = parts[i];
-          const elemPath = `/${parts.slice(0, i + 1).join('/')}`;
-          elem.title = elemPath;
-          node.appendChild(elem);
-          const separator = document.createElement('span');
-          separator.textContent = '/';
-          node.appendChild(separator);
-        }
+    if (path) {
+      if (parts.length >= 2) {
+        breadcrumbs[Crumb.Parent].textContent = parts[parts.length - 2];
+        node.appendChild(breadcrumbs[Crumb.Parent]);
+        const parent = parts.slice(0, parts.length - 1).join('/');
+        breadcrumbs[Crumb.Parent].title = parent;
+        node.appendChild(separators[2]);
       }
+      breadcrumbs[Crumb.Current].textContent = parts[parts.length - 1];
+      node.appendChild(breadcrumbs[Crumb.Current]);
+      breadcrumbs[Crumb.Current].title = path;
+      node.appendChild(separators[3]);
     }
   }
 