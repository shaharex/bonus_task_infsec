--- dev_mode\webpack.config.js (old)
+++ dev_mode\webpack.config.js (new)
@@ -1,7 +1,7 @@
-/*
- * Copyright (c) Jupyter Development Team.
- * Distributed under the terms of the Modified BSD License.
- */
+/* -----------------------------------------------------------------------------
+| Copyright (c) Jupyter Development Team.
+| Distributed under the terms of the Modified BSD License.
+|----------------------------------------------------------------------------*/
 
 const path = require('path');
 const fs = require('fs-extra');
@@ -9,8 +9,8 @@
 const HtmlWebpackPlugin = require('html-webpack-plugin');
 const webpack = require('webpack');
 const merge = require('webpack-merge').default;
-const BundleAnalyzerPlugin =
-  require('webpack-bundle-analyzer').BundleAnalyzerPlugin;
+const BundleAnalyzerPlugin = require('webpack-bundle-analyzer')
+  .BundleAnalyzerPlugin;
 const baseConfig = require('@jupyterlab/builder/lib/webpack.config.base');
 const { ModuleFederationPlugin } = webpack.container;
 
@@ -20,7 +20,21 @@
 
 // Handle the extensions.
 const jlab = packageData.jupyterlab;
-const { extensions, mimeExtensions } = jlab;
+const { extensions, mimeExtensions, externalExtensions } = jlab;
+
+// Add external extensions to the extensions/mimeExtensions data as
+// appropriate
+for (const pkg in externalExtensions) {
+  const {
+    jupyterlab: { extension, mimeExtension }
+  } = require(`${pkg}/package.json`);
+  if (extension !== undefined) {
+    extensions[pkg] = extension === true ? '' : extension;
+  }
+  if (mimeExtension !== undefined) {
+    mimeExtensions[pkg] = mimeExtension === true ? '' : mimeExtension;
+  }
+}
 
 // Deduplicated list of extension package names.
 const extensionPackages = [
@@ -176,9 +190,10 @@
 const extraShared = [];
 for (let pkg of extensionPackages) {
   let pkgShared = {};
-  let { dependencies = {}, jupyterlab: { sharedPackages = {} } = {} } = require(
-    `${pkg}/package.json`
-  );
+  let {
+    dependencies = {},
+    jupyterlab: { sharedPackages = {} } = {}
+  } = require(`${pkg}/package.json`);
   for (let [dep, requiredVersion] of Object.entries(dependencies)) {
     if (!shared[dep]) {
       pkgShared[dep] = { requiredVersion };
@@ -279,19 +294,20 @@
   merge(baseConfig, {
     mode: 'development',
     entry: {
-      main: ['./publicpath', entryPoint]
+      main: ['./publicpath', 'whatwg-fetch', entryPoint]
     },
     output: {
       path: path.resolve(buildDir),
       publicPath: '{{page_config.fullStaticUrl}}/',
-      filename: '[name].[contenthash].js'
+      filename: '[name].[contenthash].js',
+      hashFunction: 'sha256'
     },
     optimization: {
       splitChunks: {
         chunks: 'all',
         cacheGroups: {
           jlab_core: {
-            test: /[\\/]node_modules[\\/]@(jupyterlab|lumino(?!\/datagrid))[\\/]/,
+            test: /[\\/]node_modules[\\/]@(jupyterlab|lumino)[\\/]/,
             name: 'jlab_core'
           }
         }
@@ -308,7 +324,7 @@
       ]
     },
     devtool: 'inline-source-map',
-    externals: ['ws'],
+    externals: ['node-fetch', 'ws'],
     plugins
   })
 ].concat(extensionAssetConfig);